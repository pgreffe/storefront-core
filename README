README file for Storefront core services.

Storefront core is the implementation of the core resource oriented architecture.  

For more detailed design descriptions see doc/storefront-design.doc and doc/storefront-core.vsd

The core services rely on the xqroa main an library modules which provide a framework
for resource definition and configuration.  To add a resource to the framework
perform the following actions (FROM xqroa):

HTTP request parameters are available to views and controllers, in addition to 
url scoping information, defined in resources.xqy with the key 'request-params' 
which will return a map:map element   

ADD A CONTROLLER FOR THE RESOURCE
--------------------------------------------------------------------------------
There are three steps to add a controller:
1.  Update the resources.xqy with the controller name and path information.
2.  Add the implementation of the controller module to /app/controller directory.
        The file name of the controller should be the key specified in 
        resources.xqy with "-controller" appended to the file name.  
        For example, controller-key = "xyz", then 
        controller file would be /app/controller/xyz-controller.xqy.
3.  Determine which HTTP methods the controller will support.
        Below is a mapping of HTTP methods to controller functions:            
        HTTP method => controller function
        ----------------------------------
        GET => controller:show
        PUT => controller:update
        DELETE => controller:destroy
        POST => controller:create

ADDING A RESOURCE representation (view)
--------------------------------------------------------------------------------
There are two steps to add a view:
1.  Determine the the representations that the resource will support.
    (JSON is free)
2.  For each resource representation (excluding JSON) add a implementation 
    of the representation app/view directory.
        The file name of the view should follow naming convention: 
            {controller-key}.{representation}.xqy.
        To access the model generated by the controller in the view define:
        declare variable $view:model as element() external;
        
        To access the parameters passed to the controller in the view define:
        declare variable $controller:params as map:map external; 
        
        HTTP request parameters are also available to views and controllers
        with the key 'request-params' which will return a map:map element   
               
            
Also see resources.xqy and action-controller.xqy for more detailed information.

Storefront core defines the following resources:
Storefront core defines the following page resources:
Storefront core defines the following view resources:
